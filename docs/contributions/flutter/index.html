<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-186339279-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<meta name="title" content="My Open Source journey">
<meta name="description" content="Discover Open Source Software through concrete examples. A publication every two weeks.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://myopensourcejourney.com/">
<meta property="og:title" content="My Open Source journey">
<meta property="og:description" content="Discover Open Source Software through concrete examples. A publication every two weeks.">
<meta property="og:image" content="https://myopensourcejourney.com/img/logo.png">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://myopensourcejourney.com/">
<meta property="twitter:title" content="My Open Source journey">
<meta property="twitter:description" content="Discover Open Source Software through concrete examples. A publication every two weeks.">
<meta property="twitter:image" content="https://myopensourcejourney.com/img/logo.png">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">Google - Flutter contributions | My Open Source journey</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://myopensourcejourney.com/docs/contributions/flutter"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Google - Flutter contributions | My Open Source journey"><meta data-react-helmet="true" name="description" content="June-July 2021"><meta data-react-helmet="true" property="og:description" content="June-July 2021"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://myopensourcejourney.com/docs/contributions/flutter"><link data-react-helmet="true" rel="alternate" href="https://myopensourcejourney.com/docs/contributions/flutter" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://myopensourcejourney.com/docs/contributions/flutter" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.778ddecf.css">
<link rel="preload" href="/assets/js/runtime~main.170cc273.js" as="script">
<link rel="preload" href="/assets/js/main.aa518b15.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Open Source journey" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.svg" alt="My Open Source journey" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link" href="/docs/presentation">Presentation</a><a class="navbar__item navbar__link" href="/docs/contributions/apple-swift-nio1692">Contributions</a><a class="navbar__item navbar__link" href="/docs/projects/backstage">Projects</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/about">About Me</a><a href="https://github.com/ayshiff" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Contributions</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/apple-swift-nio1692">1. SwiftNIO core - SocketAddress creation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/xlayers395">2. xLayers - Rethink UX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/backstage3794">3. Backstage - Techdocs AWS Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/lifetime28">4. LifeTime - Activity detail</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/backstage4416">5. Backstage - Splunk On-Call Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/octobox2597">6. Octobox - Notifications filter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/consoleme9008">7. ConsoleMe - AWS IAM policy linting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/changesets80">8. Changesets - Comment on released PRs and issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/caramel91">9. Caramel - Pipe operator support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/firefox-ios8327">10. Firefox for iOS - Bug fixing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/driftctl458">11. driftctl - Support for Terraform Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/backstage5675">12. Backstage - Techdocs End-to-End testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/contributions/flutter">13. Google - Flutter contributions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Projects</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Google - Flutter contributions</h1></header><p class="post_date">June-July 2021</p><div class="pr_infos"><div class="marginBottom"><span class="badge badge--secondary marginRight">Mobile</span><span class="badge badge--secondary marginRight">Dart</span><span class="badge badge--secondary marginRight">Android-iOS</span><span class="badge badge--secondary marginRight">macOS-Windows</span><span class="badge badge--secondary marginRight">Web</span></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="introduction">Introduction<a aria-hidden="true" class="hash-link" href="#introduction" title="Direct link to heading">â€‹</a></h2><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/flutter/cover.jpg" alt="Flutter presentation" width="100%"></div></div><em>Flutter presentation</em></div><br><p><em>Itâ€™s been 5 months since I have launched this Open Source initiative and I learned a lot from it.</em></p><p><em>Today itâ€™s time for something newâ€¦</em></p><p><em>I found that the format of one contribution every two weeks allowed me to see a wide variety of different projects but does not allow me to fully dive into the project.</em></p><p><em>I have decided to challenge myself and change the format for the next contributions to focus more in-depth for a few weeks on a specific project (a bit like what Google Summer of Code does) which will allow me to better understand how the project works and to be able to make more significant contributions.</em></p><p>This article is composed of <strong>eight contributions</strong> to various projects in the Flutter-Dartlang ecosystem:</p><ul><li><div><div class="merged"><span><svg height="16" viewBox="0 0 16 16" version="1.1" width="16" fill="white" aria-hidden="true" class="status_svg"><path fill-rule="evenodd" d="M5 3.254V3.25v.005a.75.75 0 110-.005v.004zm.45 1.9a2.25 2.25 0 10-1.95.218v5.256a2.25 2.25 0 101.5 0V7.123A5.735 5.735 0 009.25 9h1.378a2.251 2.251 0 100-1.5H9.25a4.25 4.25 0 01-3.8-2.346zM12.75 9a.75.75 0 100-1.5.75.75 0 000 1.5zm-8.5 4.5a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>Merged</span></div></div> Flutter/Cupertino - Date order parameter <a href="#fluttercupertino---date-order-parameter"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">link</span></a></li><li><div><div class="open"><span><svg height="16" viewBox="0 0 16 16" version="1.1" width="16" fill="white" aria-hidden="true" class="status_svg"><path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path></svg>Open</span></div></div> Flutter - Check for Android device battery level <a href="#flutter---check-for-android-device-battery-level"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">link</span></a></li><li><div><div class="merged"><span><svg height="16" viewBox="0 0 16 16" version="1.1" width="16" fill="white" aria-hidden="true" class="status_svg"><path fill-rule="evenodd" d="M5 3.254V3.25v.005a.75.75 0 110-.005v.004zm.45 1.9a2.25 2.25 0 10-1.95.218v5.256a2.25 2.25 0 101.5 0V7.123A5.735 5.735 0 009.25 9h1.378a2.251 2.251 0 100-1.5H9.25a4.25 4.25 0 01-3.8-2.346zM12.75 9a.75.75 0 100-1.5.75.75 0 000 1.5zm-8.5 4.5a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>Merged</span></div></div> Flutter/Cocoon - Config keyHelper reference <a href="#fluttercocoon---config-keyhelper-reference"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">link</span></a></li><li><div><div class="merged"><span><svg height="16" viewBox="0 0 16 16" version="1.1" width="16" fill="white" aria-hidden="true" class="status_svg"><path fill-rule="evenodd" d="M5 3.254V3.25v.005a.75.75 0 110-.005v.004zm.45 1.9a2.25 2.25 0 10-1.95.218v5.256a2.25 2.25 0 101.5 0V7.123A5.735 5.735 0 009.25 9h1.378a2.251 2.251 0 100-1.5H9.25a4.25 4.25 0 01-3.8-2.346zM12.75 9a.75.75 0 100-1.5.75.75 0 000 1.5zm-8.5 4.5a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>Merged</span></div></div> Dart-lang - `printOnFailure` check current invoker <a href="#dart-lang---printonfailure-check-current-invoker"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">link</span></a></li><li><div><div class="merged"><span><svg height="16" viewBox="0 0 16 16" version="1.1" width="16" fill="white" aria-hidden="true" class="status_svg"><path fill-rule="evenodd" d="M5 3.254V3.25v.005a.75.75 0 110-.005v.004zm.45 1.9a2.25 2.25 0 10-1.95.218v5.256a2.25 2.25 0 101.5 0V7.123A5.735 5.735 0 009.25 9h1.378a2.251 2.251 0 100-1.5H9.25a4.25 4.25 0 01-3.8-2.346zM12.75 9a.75.75 0 100-1.5.75.75 0 000 1.5zm-8.5 4.5a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>Merged</span></div></div> Codemirror.dart - Add SearchCursor wrapper <a href="#codemirrordart---add-searchcursor-wrapper"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">link</span></a></li><li><div><div class="merged"><span><svg height="16" viewBox="0 0 16 16" version="1.1" width="16" fill="white" aria-hidden="true" class="status_svg"><path fill-rule="evenodd" d="M5 3.254V3.25v.005a.75.75 0 110-.005v.004zm.45 1.9a2.25 2.25 0 10-1.95.218v5.256a2.25 2.25 0 101.5 0V7.123A5.735 5.735 0 009.25 9h1.378a2.251 2.251 0 100-1.5H9.25a4.25 4.25 0 01-3.8-2.346zM12.75 9a.75.75 0 100-1.5.75.75 0 000 1.5zm-8.5 4.5a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>Merged</span></div></div> Flutter/Gallery - Refactor [web benchmarks] Move to appropriate folder <a href="#fluttergallery---refactor-web-benchmarks-move-to-appropriate-folder"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">link</span></a></li><li><div><div class="merged"><span><svg height="16" viewBox="0 0 16 16" version="1.1" width="16" fill="white" aria-hidden="true" class="status_svg"><path fill-rule="evenodd" d="M5 3.254V3.25v.005a.75.75 0 110-.005v.004zm.45 1.9a2.25 2.25 0 10-1.95.218v5.256a2.25 2.25 0 101.5 0V7.123A5.735 5.735 0 009.25 9h1.378a2.251 2.251 0 100-1.5H9.25a4.25 4.25 0 01-3.8-2.346zM12.75 9a.75.75 0 100-1.5.75.75 0 000 1.5zm-8.5 4.5a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>Merged</span></div></div> Flutter/Gallery - Back button overlapping <a href="#fluttergallery---back-button-overlapping"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">link</span></a></li><li><div><div class="merged"><span><svg height="16" viewBox="0 0 16 16" version="1.1" width="16" fill="white" aria-hidden="true" class="status_svg"><path fill-rule="evenodd" d="M5 3.254V3.25v.005a.75.75 0 110-.005v.004zm.45 1.9a2.25 2.25 0 10-1.95.218v5.256a2.25 2.25 0 101.5 0V7.123A5.735 5.735 0 009.25 9h1.378a2.251 2.251 0 100-1.5H9.25a4.25 4.25 0 01-3.8-2.346zM12.75 9a.75.75 0 100-1.5.75.75 0 000 1.5zm-8.5 4.5a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>Merged</span></div></div> Flutter - CPU/GPU/memory metrics for iOS gallery transition tests <a href="#flutter---cpugpumemory-metrics-for-ios-gallery-transition-tests"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">link</span></a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="project">Project<a aria-hidden="true" class="hash-link" href="#project" title="Direct link to heading">â€‹</a></h3><p>You can find the <strong>Flutter project presentation</strong> <a href="/docs/projects/flutter"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">here</span></a>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="fluttercupertino---date-order-parameter">Flutter/Cupertino - Date order parameter<a aria-hidden="true" class="hash-link" href="#fluttercupertino---date-order-parameter" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Contribution link</h5></div><div class="admonition-content"><p><a href="https://github.com/flutter/flutter/pull/84599" target="_blank" rel="noopener noreferrer">https://github.com/flutter/flutter/pull/84599</a>  </p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Contribution Types</h5></div><div class="admonition-content"><p>This contribution is a new <strong>feature</strong>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="context">Context<a aria-hidden="true" class="hash-link" href="#context" title="Direct link to heading">â€‹</a></h3><p><em><strong>Cupertino</strong> (iOS-style) widgets are Beautiful and high-fidelity widgets for current iOS design language.</em></p><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/flutter/cupertino.png" alt="Flutter Cupertino" width="100%"></div></div><em>Flutter Cupertino</em><br></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="current-behavior">Current behavior<a aria-hidden="true" class="hash-link" href="#current-behavior" title="Direct link to heading">â€‹</a></h3><p>This contribution adds a new <code>dateOrder</code> parameter to <code>CupertinoDatePicker</code> to define the order of the columns in date mode which overrides the default order value defined by <code>localizations.datePickerDateOrder</code>.</p><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/flutter/cupertino-date-order-before.png" alt="CupertinoDatePicker date order (before)" width="300px"></div></div><em>CupertinoDatePicker default date order</em></div><br><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Issue links</h5></div><div class="admonition-content"><p><a href="https://github.com/flutter/flutter/issues/84550" target="_blank" rel="noopener noreferrer">https://github.com/flutter/flutter/issues/84550</a></p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="implement-the-solution">Implement the solution<a aria-hidden="true" class="hash-link" href="#implement-the-solution" title="Direct link to heading">â€‹</a></h3><p>Define a new <code>dateOrder</code> parameter which determines the order of the columns.<br>
<!-- -->This parameter can have multiple values defined in <code>DatePickerDateOrder enum</code> (<a href="https://api.flutter.dev/flutter/cupertino/DatePickerDateOrder-class.html" target="_blank" rel="noopener noreferrer"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">link</span></a>).</p><p>For example, <code>dmy</code> corresponds from left to right to day, month, year.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/// Determines the order of the columns inside [CupertinoDatePicker] in date mode.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/// Defaults to the locale&#x27;s default date format/order.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">final DatePickerDateOrder? dateOrder;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If the <code>dateOrder</code> property is not defined, the order is based on internationalization.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">final DatePickerDateOrder datePickerDateOrder =</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    dateOrder ?? localizations.datePickerDateOrder;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">switch (datePickerDateOrder) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /// ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Add some <strong>tests</strong> to be sure that everything is working as expected.</p><p>We check that with the <code>DatePickerDateOrder.ydm</code> value (Year/Day/Month), the component render the elements in the right order from left to right.</p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">packages/flutter/test/cupertino/date_picker_test.dart</div><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    testWidgets(&#x27;DatePicker displays the date in correct order&#x27;, (WidgetTester tester) async {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      await tester.pumpWidget(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        CupertinoApp(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          home: Center(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            child: SizedBox(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              height: 400.0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              width: 400.0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              child: CupertinoDatePicker(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                dateOrder: DatePickerDateOrder.ydm,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                mode: CupertinoDatePickerMode.date,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                onDateTimeChanged: (DateTime newDate) {},</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                initialDateTime: DateTime(2018, 1, 14, 10, 30),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              ),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            ),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          ),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      );</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      expect(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        tester.getTopLeft(find.text(&#x27;2018&#x27;)).dx,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        lessThan(tester.getTopLeft(find.text(&#x27;14&#x27;)).dx),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      );</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      expect(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        tester.getTopLeft(find.text(&#x27;14&#x27;)).dx,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        lessThan(tester.getTopLeft(find.text(&#x27;January&#x27;)).dx),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      );</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    });</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="final-result">Final result<a aria-hidden="true" class="hash-link" href="#final-result" title="Direct link to heading">â€‹</a></h2><p>Users can now override the default CupertinoDatePicker date order.</p><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/flutter/cupertino-date-order-final.png" alt="CupertinoDatePicker date order" width="300px"></div></div><em>CupertinoDatePicker date order</em></div><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="flutter---check-for-android-device-battery-level">Flutter - Check for Android device battery level<a aria-hidden="true" class="hash-link" href="#flutter---check-for-android-device-battery-level" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Contribution link</h5></div><div class="admonition-content"><p><a href="https://github.com/flutter/flutter/pull/84534" target="_blank" rel="noopener noreferrer">https://github.com/flutter/flutter/pull/84534</a></p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Contribution Types</h5></div><div class="admonition-content"><p>This contribution is a new <strong>feature</strong>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="context-1">Context<a aria-hidden="true" class="hash-link" href="#context-1" title="Direct link to heading">â€‹</a></h3><p><em><strong>DeviceLab</strong> is a physical lab that tests Flutter on real devices.</em></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="current-behavior-1">Current behavior<a aria-hidden="true" class="hash-link" href="#current-behavior-1" title="Direct link to heading">â€‹</a></h3><p>This contribution will filter out and warn about Android devices with <strong>low battery level</strong> (smaller than or equal to 15%).</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="implement-the-solution-1">Implement the solution<a aria-hidden="true" class="hash-link" href="#implement-the-solution-1" title="Direct link to heading">â€‹</a></h3><p><strong>Get the battery level</strong> of an Android device with <code>adb shell dumpsys battery</code>.</p><p>It should output something like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Current Battery Service state:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  AC powered: false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  USB powered: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Wireless powered: false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Max charging current: 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Max charging voltage: 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Charge counter: 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  status: 2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  health: 2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  present: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  level: 93</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  scale: 100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  voltage: 4245</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  temperature: 237</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  technology: Li-ion</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We can <strong>grab the level property</strong> as this is what we are interested in.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Future&lt;int&gt; _getBatteryLevel() async {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  final String batteryInfo = await shellEval(&#x27;dumpsys&#x27;, &lt;String&gt;[&#x27;battery&#x27;]);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  final String batteryLevel = grep(&#x27;level:&#x27;, from: batteryInfo).single.split(&#x27;:&#x27;)[1].trim();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  return int.parse(batteryLevel);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Define a function to check if the battery level is <strong>less than 15%</strong>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/// Whether the device has a battery level smaller than or equal to 15 percent.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@override</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Future&lt;bool&gt; hasLowBatteryLevel() async {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  return await _getBatteryLevel() &lt;= 15;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Check</strong> all Android devices battery level and <strong>warn</strong> about those with low battery level.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">final AndroidDevice device = allDevices[math.Random().nextInt(allDevices.length)];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">final bool hasLowBatteryLevel = await device.hasLowBatteryLevel();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">if (!hasLowBatteryLevel) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  _workingDevice = device;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">for (final AndroidDevice device in allDevices) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  final String deviceId = device.deviceId;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  if (await device.hasLowBatteryLevel()) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    print(&#x27;Device with ID $deviceId has low battery level&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Add tests to check that our new functions <code>hasLowBatteryLevel</code> and <code>_getBatteryLevel</code> are working as expected.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">group(&#x27;batteryLevel&#x27;, () {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  test(&#x27;has enough battery&#x27;, () async {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    FakeDevice.pretendHasEnoughBattery();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    expect(await device.hasLowBatteryLevel(), isFalse);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  test(&#x27;has not enough battery&#x27;, () async {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    FakeDevice.pretendHasNotEnoughBattery();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    expect(await device.hasLowBatteryLevel(), isTrue);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">static void pretendHasNotEnoughBattery() {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  output = &#x27;&#x27;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    level: 15</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;&#x27;&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">static void pretendHasEnoughBattery() {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  output = &#x27;&#x27;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    level: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;&#x27;&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="final-result-1">Final result<a aria-hidden="true" class="hash-link" href="#final-result-1" title="Direct link to heading">â€‹</a></h2><p>This contribution added a way to warn about Android devices with <strong>low battery level</strong> in DeviceLab.</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="fluttercocoon---config-keyhelper-reference">Flutter/Cocoon - Config keyHelper reference<a aria-hidden="true" class="hash-link" href="#fluttercocoon---config-keyhelper-reference" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Contribution link</h5></div><div class="admonition-content"><p><a href="https://github.com/flutter/cocoon/pull/1233" target="_blank" rel="noopener noreferrer">https://github.com/flutter/cocoon/pull/1233</a></p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Contribution Types</h5></div><div class="admonition-content"><p>This contribution is about <strong>refactoring</strong>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="context-2">Context<a aria-hidden="true" class="hash-link" href="#context-2" title="Direct link to heading">â€‹</a></h3><p><em><strong>Cocoon</strong> is a Dart App Engine custom runtime (backend) with a frontend of Flutter apps (build and repository dashboard). Cocoon coordinates and aggregates the results of flutter/flutter builds.</em></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="current-behavior-2">Current behavior<a aria-hidden="true" class="hash-link" href="#current-behavior-2" title="Direct link to heading">â€‹</a></h3><p>A keyHelper reference has been added in cocoon config.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">KeyHelper get keyHelper =&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    KeyHelper(applicationContext: context.applicationContext);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Existing APIs have separate keyHelper definitions in their own scope.
To make it consistent, we should update all APIs to use the keyHelper defined in the cocoon config.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Issue links</h5></div><div class="admonition-content"><p><a href="https://github.com/flutter/flutter/issues/48987" target="_blank" rel="noopener noreferrer">https://github.com/flutter/flutter/issues/48987</a></p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="implement-the-solution-2">Implement the solution<a aria-hidden="true" class="hash-link" href="#implement-the-solution-2" title="Direct link to heading">â€‹</a></h3><p><strong><em>Before</em></strong></p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">app_dart/lib/src/request_handlers/reset_prod_task.dart</div><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">final ClientContext clientContext = authContext.clientContext;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">final KeyHelper keyHelper = KeyHelper(applicationContext: clientContext.applicationContext);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong><em>After</em></strong></p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">app_dart/lib/src/request_handlers/reset_prod_task.dart</div><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">final KeyHelper keyHelper = config.keyHelper;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Add some tests and mock the key helper.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">setUp(() {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /// Other</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  keyHelper = FakeKeyHelper(applicationContext: clientContext.applicationContext);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  config = FakeConfig(dbValue: datastoreDB, keyHelperValue: keyHelper);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="final-result-2">Final result<a aria-hidden="true" class="hash-link" href="#final-result-2" title="Direct link to heading">â€‹</a></h2><p>Made the codebase more sustainable and maintainable by refactoring a part of the codebase that was not relevant anymore.</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="dart-lang---printonfailure-check-current-invoker">Dart-lang - printOnFailure check current invoker<a aria-hidden="true" class="hash-link" href="#dart-lang---printonfailure-check-current-invoker" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Contribution link</h5></div><div class="admonition-content"><p><a href="https://github.com/dart-lang/test/pull/1533" target="_blank" rel="noopener noreferrer">https://github.com/dart-lang/test/pull/1533</a></p></div></div><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Contribution Types</h5></div><div class="admonition-content"><p>This contribution is a <strong>bug-fix</strong>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="context-3">Context<a aria-hidden="true" class="hash-link" href="#context-3" title="Direct link to heading">â€‹</a></h3><p><em><strong>Dart-lang tests</strong> provides a standard way of writing and running tests in Dart.</em></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="current-behavior-3">Current behavior<a aria-hidden="true" class="hash-link" href="#current-behavior-3" title="Direct link to heading">â€‹</a></h3><p>The <code>printOnFailure</code> function is used to print errors in the console when an error occurs.<br>
<!-- -->If you call it outside the test zone, the error is pretty confusing.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">The method &#x27;printOnFailure&#x27; was called on null.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Receiver: null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Tried calling: printOnFailure(&lt;your-message&gt;)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We should explicitly check and throw if there is no current invoker.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Issue links</h5></div><div class="admonition-content"><p><a href="https://github.com/dart-lang/test/issues/1340" target="_blank" rel="noopener noreferrer">https://github.com/dart-lang/test/issues/1340</a></p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="implement-the-solution-3">Implement the solution<a aria-hidden="true" class="hash-link" href="#implement-the-solution-3" title="Direct link to heading">â€‹</a></h3><p>This contribution adds a check within <code>printOnFailure</code> and throw an exception if there is no current invoker.</p><p><strong><em>Before</em></strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">void printOnFailure(String message) =&gt; Invoker.current!.printOnFailure(message);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong><em>After</em></strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">void printOnFailure(String message) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  var invoker = Invoker.current;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  if (invoker == null) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    throw StateError(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &#x27;There is no current invoker. Please make sure that you are making the &#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &#x27;call inside a test zone.&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  return invoker.printOnFailure(message);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="final-result-3">Final result<a aria-hidden="true" class="hash-link" href="#final-result-3" title="Direct link to heading">â€‹</a></h2><p>Made the codebase more consistent by avoiding some issues and improving the developer experience.</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="codemirrordart---add-searchcursor-wrapper">Codemirror.dart - Add SearchCursor wrapper<a aria-hidden="true" class="hash-link" href="#codemirrordart---add-searchcursor-wrapper" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Contribution link</h5></div><div class="admonition-content"><p><a href="https://github.com/google/codemirror.dart/pull/138" target="_blank" rel="noopener noreferrer">https://github.com/google/codemirror.dart/pull/138</a></p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Contribution Types</h5></div><div class="admonition-content"><p>This contribution is a new <strong>feature</strong>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="context-4">Context<a aria-hidden="true" class="hash-link" href="#context-4" title="Direct link to heading">â€‹</a></h3><p>A Dart wrapper around the CodeMirror text editor.</p><p>From codemirror.net:</p><p><em><strong>CodeMirror</strong> is a versatile text editor implemented in JavaScript for the browser. It is specialized for editing code, and comes with a number of language modes and add-ons that implement more advanced editing functionality.</em></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="current-behavior-4">Current behavior<a aria-hidden="true" class="hash-link" href="#current-behavior-4" title="Direct link to heading">â€‹</a></h3><p>The wrapper didn&#x27;t have a way to use the <strong>search cursor add-on</strong> which can be used to implement search/replace functionality.<br>
<!-- -->This wrapper will be used for <a href="https://github.com/dart-lang/dart-pad/issues/1866" target="_blank" rel="noopener noreferrer"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">dart-lang/dart-pad#1866</span></a>.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="implement-the-solution-4">Implement the solution<a aria-hidden="true" class="hash-link" href="#implement-the-solution-4" title="Direct link to heading">â€‹</a></h3><p>Add the add-on wrapper with all its methods.</p><p>The main method is <strong><code>getSearchCursor(query, start, options) â†’ cursor</code></strong> which returns a search cursor with the following methods:</p><ul><li><strong>findNext() - findPrevious()</strong> â†’ boolean<br><em>Search forward or backward from the current position.</em></li><li><strong>from() - to()</strong> â†’ {line, ch}<br><em>Return {line, ch} objects pointing at the start and end of the match.</em></li><li><strong>replace(text: string, ?origin: string)</strong><br><em>Replaces the currently found match with the given text and adjusts the cursor position to reflect the replacement.</em></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Copyright (c) 2021, Google Inc. Please see the AUTHORS file for details.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// All rights reserved. Use of this source code is governed by a BSD-style</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// license that can be found in the LICENSE file.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/// A wrapper around the `add-on/search/searchcursor.js` add-on.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">library codemirror.searchcursor;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import &#x27;dart:js&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import &#x27;src/js_utils.dart&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import &#x27;codemirror.dart&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">class SearchCursor {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /// Retrieve the search cursor from the editor instance.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  static SearchCursorContainer getSearchCursor(CodeMirror editor, String value,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      {Position? start, Map? options}) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (options == null) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      return SearchCursorContainer._(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          editor.callArgs(&#x27;getSearchCursor&#x27;, [value, start]));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      return SearchCursorContainer._(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          editor.callArgs(&#x27;getSearchCursor&#x27;, [value, start, jsify(options)]));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">class SearchCursorContainer extends ProxyHolder {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  SearchCursorContainer._(JsObject? jsProxy) : super(jsProxy);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  bool get atOccurrence =&gt; jsProxy![&#x27;atOccurrence&#x27;];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Doc get doc =&gt; Doc.fromProxy(jsProxy![&#x27;doc&#x27;]);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Position get pos =&gt; Position.fromProxy(jsProxy![&#x27;pos&#x27;]);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /// Search forward from the current position</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  bool findNext() =&gt; call(&#x27;findNext&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /// Search backward from the current position</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  bool findPrevious() =&gt; call(&#x27;findPrevious&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Position from() =&gt; Position.fromProxy(call(&#x27;from&#x27;));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Position to() =&gt; Position.fromProxy(call(&#x27;to&#x27;));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  String replace(String text, {dynamic origin}) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (origin == null) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      return callArg(&#x27;replace&#x27;, text);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      return callArgs(&#x27;replace&#x27;, [text, origin]);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Add tests to check that every method of the add-on is working properly.<br>
<!-- -->We are using an html file to attach the Codemirror instance to.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Copyright (c) 2014, Google Inc. Please see the AUTHORS file for details.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// All rights reserved. Use of this source code is governed by a BSD-style</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// license that can be found in the LICENSE file.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@TestOn(&#x27;browser&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">library codemirror.tests;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import &#x27;dart:html&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import &#x27;package:codemirror/codemirror.dart&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import &#x27;package:test/test.dart&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import &#x27;package:codemirror/searchcursor.dart&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">void main() {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  group(&#x27;searchCursor&#x27;, createSearchCursorTests);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">void createSearchCursorTests() {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  late CodeMirror editor;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  setUp(() {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    editor = CodeMirror.fromTextArea(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        querySelector(&#x27;#textContainer&#x27;) as TextAreaElement?);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tearDown(() {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    editor.dispose();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  test(&#x27;getSearchCursor&#x27;, () {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var cursor = SearchCursor.getSearchCursor(editor, &#x27;Lorem&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    print(cursor.pos);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    expect(cursor, isNotNull);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    expect(cursor, isA&lt;SearchCursorContainer&gt;());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  test(&#x27;findPrevious / findNext&#x27;, () {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var cursor = SearchCursor.getSearchCursor(editor, &#x27;ipsum&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var hasNext = cursor.findNext();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    expect(hasNext, isTrue);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    cursor.findNext();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var hasPrev = cursor.findPrevious();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    expect(hasPrev, isTrue);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  test(&#x27;from / to&#x27;, () {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var cursor = SearchCursor.getSearchCursor(editor, &#x27;Pellentesque&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    cursor.findNext();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var from = cursor.from();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var to = cursor.to();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    expect(from, isNotNull);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    expect(to, isNotNull);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  test(&#x27;atOccurrence&#x27;, () {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var cursor = SearchCursor.getSearchCursor(editor, &#x27;dolor&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    cursor.findNext();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    expect(cursor.atOccurrence, isTrue);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  test(&#x27;doc&#x27;, () {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var cursor = SearchCursor.getSearchCursor(editor, &#x27;sapien&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    expect(cursor.doc, isA&lt;Doc&gt;());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  test(&#x27;pos&#x27;, () {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var cursor = SearchCursor.getSearchCursor(editor, &#x27;ipsum&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    expect(cursor.pos, isA&lt;Position&gt;());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="final-result-4">Final result<a aria-hidden="true" class="hash-link" href="#final-result-4" title="Direct link to heading">â€‹</a></h2><p>The search cursor add-on lets users customize their Codemirror instance to add search-replace functionalities.</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="fluttergallery---refactor-web-benchmarks-move-to-appropriate-folder">Flutter/Gallery - Refactor <!-- -->[web benchmarks]<!-- --> Move to appropriate folder<a aria-hidden="true" class="hash-link" href="#fluttergallery---refactor-web-benchmarks-move-to-appropriate-folder" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Contribution link</h5></div><div class="admonition-content"><p><a href="https://github.com/flutter/gallery/pull/520" target="_blank" rel="noopener noreferrer">https://github.com/flutter/gallery/pull/520</a></p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Contribution Types</h5></div><div class="admonition-content"><p>This contribution is about <strong>refactoring</strong>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="context-5">Context<a aria-hidden="true" class="hash-link" href="#context-5" title="Direct link to heading">â€‹</a></h3><p><em><strong>Flutter Gallery</strong> is a resource to help developers evaluate and use Flutter. It is a collection of Material Design &amp; Cupertino widgets, behaviors, and vignettes implemented with Flutter.</em></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="current-behavior-5">Current behavior<a aria-hidden="true" class="hash-link" href="#current-behavior-5" title="Direct link to heading">â€‹</a></h3><p>Moves <code>benchmarks_test.dart</code> and the benchmarks sub-folder from the <code>test</code> folder to <code>test_benchmarks</code> as it is more appropriate.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="implement-the-solution-5">Implement the solution<a aria-hidden="true" class="hash-link" href="#implement-the-solution-5" title="Direct link to heading">â€‹</a></h3><p>This contribution is mainly about moving files to another directory, nothing special here.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">final taskResult = await serveWebBenchmark(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  benchmarkAppDirectory: projectRootDirectory(),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  entryPoint: &#x27;test_benchmarks/benchmarks/client.dart&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  useCanvasKit: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="final-result-5">Final result<a aria-hidden="true" class="hash-link" href="#final-result-5" title="Direct link to heading">â€‹</a></h2><p>Made the codebase more easily maintainable by moving the benchmark tests inside a more appropriate directory.</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="fluttergallery---back-button-overlapping">Flutter/Gallery - Back button overlapping<a aria-hidden="true" class="hash-link" href="#fluttergallery---back-button-overlapping" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Contribution link</h5></div><div class="admonition-content"><p><a href="https://github.com/flutter/gallery/pull/522" target="_blank" rel="noopener noreferrer">https://github.com/flutter/gallery/pull/522</a></p></div></div><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Contribution Types</h5></div><div class="admonition-content"><p>This contribution is a <strong>bug-fix</strong>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="current-behavior-6">Current behavior<a aria-hidden="true" class="hash-link" href="#current-behavior-6" title="Direct link to heading">â€‹</a></h3><p>Fixes the overlapping &quot;Back&quot; button with the bottom navigation bar problem.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="implement-the-solution-6">Implement the solution<a aria-hidden="true" class="hash-link" href="#implement-the-solution-6" title="Direct link to heading">â€‹</a></h3><p>Add a new <code>hasBottomNavBar</code> property which define if we should add some bottom padding to the back button.</p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">lib/routes.dart</div><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">(context, match) =&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    const StudyWrapper(study: reply.ReplyApp(), hasBottomNavBar: true)),</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Add a vertical bottom padding if the bottom nav bar is present.</p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">lib/pages/home.dart</div><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/// ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">padding: EdgeInsets.symmetric(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    horizontal: 16.0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    vertical: widget.hasBottomNavBar</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ? kBottomNavigationBarHeight + 16.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        : 16.0),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/// ...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="final-result-6">Final result<a aria-hidden="true" class="hash-link" href="#final-result-6" title="Direct link to heading">â€‹</a></h2><p>Improved the User Experience as the back button is no longer overlapping with the bottom nav bar and is more easily accessible.</p><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/flutter/gallery-nav-bar.jpeg" alt="Gallery back button overlapping" width="80%"></div></div><em>Gallery back button overlapping</em></div><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="flutter---cpugpumemory-metrics-for-ios-gallery-transition-tests">Flutter - CPU/GPU/memory metrics for iOS gallery transition tests<a aria-hidden="true" class="hash-link" href="#flutter---cpugpumemory-metrics-for-ios-gallery-transition-tests" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Contribution link</h5></div><div class="admonition-content"><p><a href="https://github.com/flutter/flutter/pull/92626" target="_blank" rel="noopener noreferrer">https://github.com/flutter/flutter/pull/92626</a></p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Contribution Types</h5></div><div class="admonition-content"><p>This contribution is a new <strong>feature</strong>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="context-6">Context<a aria-hidden="true" class="hash-link" href="#context-6" title="Direct link to heading">â€‹</a></h3><p><em><strong>DeviceLab</strong> is a physical lab that tests Flutter on real devices.</em></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="current-behavior-7">Current behavior<a aria-hidden="true" class="hash-link" href="#current-behavior-7" title="Direct link to heading">â€‹</a></h3><p>This contribution adds missing CPU/GPU/memory metrics for iOS gallery transition tests.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Issue links</h5></div><div class="admonition-content"><p><a href="https://github.com/flutter/flutter/issues/70438" target="_blank" rel="noopener noreferrer">https://github.com/flutter/flutter/issues/70438</a></p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="implement-the-solution-7">Implement the solution<a aria-hidden="true" class="hash-link" href="#implement-the-solution-7" title="Direct link to heading">â€‹</a></h3><p>Report the CPU/GPU/memory metrics if the <code>measureCpuGpu</code> and <code>measureMemory</code> properties are <code>true</code> and if the device OS is iOS.</p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">dev/devicelab/lib/tasks/gallery.dart</div><div class="codeBlockContent_hGly dart"><pre tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">final bool measureCpuGpu;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">final bool measureMemory;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">final bool isAndroid = deviceOperatingSystem == DeviceOperatingSystem.android;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">if (measureCpuGpu &amp;&amp; !isAndroid) ...&lt;String&gt;[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // See https://github.com/flutter/flutter/issues/68888</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  if (summary[&#x27;average_cpu_usage&#x27;] != null) &#x27;average_cpu_usage&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  if (summary[&#x27;average_gpu_usage&#x27;] != null) &#x27;average_gpu_usage&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">if (measureMemory &amp;&amp; !isAndroid) ...&lt;String&gt;[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // See https://github.com/flutter/flutter/issues/68888</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  if (summary[&#x27;average_memory_usage&#x27;] != null) &#x27;average_memory_usage&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  if (summary[&#x27;90th_percentile_memory_usage&#x27;] != null) &#x27;90th_percentile_memory_usage&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  if (summary[&#x27;99th_percentile_memory_usage&#x27;] != null) &#x27;99th_percentile_memory_usage&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">],</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="final-result-7">Final result<a aria-hidden="true" class="hash-link" href="#final-result-7" title="Direct link to heading">â€‹</a></h2><p>Added some missing metrics for <code>GalleryTransition</code> tests to improve maintainers experience.</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="takeaway">Takeaway<a aria-hidden="true" class="hash-link" href="#takeaway" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="problems-encountered">Problems encountered<a aria-hidden="true" class="hash-link" href="#problems-encountered" title="Direct link to heading">â€‹</a></h3><p>The code exploration was the part that took me the most time as some projects are pretty big.<br>
<!-- -->I was also busy with work, school and other things which is why I didn&#x27;t make as many contributions as I would have liked.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="what-did-i-learn-">What did I learn ?<a aria-hidden="true" class="hash-link" href="#what-did-i-learn-" title="Direct link to heading">â€‹</a></h3><p>These were my first contributions in Dart that taught me a lot!<br>
<!-- -->It was also a good experience contributing to the Flutter ecosystemðŸ’™</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ayshiff/my-open-source-journey/docs/contributions/flutter.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/contributions/backstage5675"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->12. Backstage - Techdocs End-to-End testing</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/projects/backstage"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Spotify - Backstage<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a><ul><li><a href="#project" class="table-of-contents__link toc-highlight">Project</a></li></ul></li><li><a href="#fluttercupertino---date-order-parameter" class="table-of-contents__link toc-highlight">Flutter/Cupertino - Date order parameter</a><ul><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#current-behavior" class="table-of-contents__link toc-highlight">Current behavior</a></li><li><a href="#implement-the-solution" class="table-of-contents__link toc-highlight">Implement the solution</a></li></ul></li><li><a href="#final-result" class="table-of-contents__link toc-highlight">Final result</a></li><li><a href="#flutter---check-for-android-device-battery-level" class="table-of-contents__link toc-highlight">Flutter - Check for Android device battery level</a><ul><li><a href="#context-1" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#current-behavior-1" class="table-of-contents__link toc-highlight">Current behavior</a></li><li><a href="#implement-the-solution-1" class="table-of-contents__link toc-highlight">Implement the solution</a></li></ul></li><li><a href="#final-result-1" class="table-of-contents__link toc-highlight">Final result</a></li><li><a href="#fluttercocoon---config-keyhelper-reference" class="table-of-contents__link toc-highlight">Flutter/Cocoon - Config keyHelper reference</a><ul><li><a href="#context-2" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#current-behavior-2" class="table-of-contents__link toc-highlight">Current behavior</a></li><li><a href="#implement-the-solution-2" class="table-of-contents__link toc-highlight">Implement the solution</a></li></ul></li><li><a href="#final-result-2" class="table-of-contents__link toc-highlight">Final result</a></li><li><a href="#dart-lang---printonfailure-check-current-invoker" class="table-of-contents__link toc-highlight">Dart-lang - printOnFailure check current invoker</a><ul><li><a href="#context-3" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#current-behavior-3" class="table-of-contents__link toc-highlight">Current behavior</a></li><li><a href="#implement-the-solution-3" class="table-of-contents__link toc-highlight">Implement the solution</a></li></ul></li><li><a href="#final-result-3" class="table-of-contents__link toc-highlight">Final result</a></li><li><a href="#codemirrordart---add-searchcursor-wrapper" class="table-of-contents__link toc-highlight">Codemirror.dart - Add SearchCursor wrapper</a><ul><li><a href="#context-4" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#current-behavior-4" class="table-of-contents__link toc-highlight">Current behavior</a></li><li><a href="#implement-the-solution-4" class="table-of-contents__link toc-highlight">Implement the solution</a></li></ul></li><li><a href="#final-result-4" class="table-of-contents__link toc-highlight">Final result</a></li><li><a href="#fluttergallery---refactor-web-benchmarks-move-to-appropriate-folder" class="table-of-contents__link toc-highlight">Flutter/Gallery - Refactor web benchmarks Move to appropriate folder</a><ul><li><a href="#context-5" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#current-behavior-5" class="table-of-contents__link toc-highlight">Current behavior</a></li><li><a href="#implement-the-solution-5" class="table-of-contents__link toc-highlight">Implement the solution</a></li></ul></li><li><a href="#final-result-5" class="table-of-contents__link toc-highlight">Final result</a></li><li><a href="#fluttergallery---back-button-overlapping" class="table-of-contents__link toc-highlight">Flutter/Gallery - Back button overlapping</a><ul><li><a href="#current-behavior-6" class="table-of-contents__link toc-highlight">Current behavior</a></li><li><a href="#implement-the-solution-6" class="table-of-contents__link toc-highlight">Implement the solution</a></li></ul></li><li><a href="#final-result-6" class="table-of-contents__link toc-highlight">Final result</a></li><li><a href="#flutter---cpugpumemory-metrics-for-ios-gallery-transition-tests" class="table-of-contents__link toc-highlight">Flutter - CPU/GPU/memory metrics for iOS gallery transition tests</a><ul><li><a href="#context-6" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#current-behavior-7" class="table-of-contents__link toc-highlight">Current behavior</a></li><li><a href="#implement-the-solution-7" class="table-of-contents__link toc-highlight">Implement the solution</a></li></ul></li><li><a href="#final-result-7" class="table-of-contents__link toc-highlight">Final result</a></li><li><a href="#takeaway" class="table-of-contents__link toc-highlight">Takeaway</a><ul><li><a href="#problems-encountered" class="table-of-contents__link toc-highlight">Problems encountered</a></li><li><a href="#what-did-i-learn-" class="table-of-contents__link toc-highlight">What did I learn ?</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Content</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/presentation">Concept presentation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contributions/apple-swift-nio1692">Contributions</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/projects/backstage">Projects</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/users/8914348/r%c3%a9mi-doreau?tab=profile" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/r%C3%A9mi-doreau-b53902153/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/remi_doreau" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/about">About me</a></li><li class="footer__item"><a href="https://github.com/ayshiff" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://remidoreau.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div style="margin-top: 40px"><img src="https://myopensourcejourney.com/img/logo.svg" width="200"><p>Build with ðŸ’™ by <b>RÃ©mi Doreau</b></p></div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.170cc273.js"></script>
<script src="/assets/js/main.aa518b15.js"></script>
</body>
</html>