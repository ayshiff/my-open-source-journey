<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-186339279-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<meta name="title" content="My Open Source journey">
<meta name="description" content="Discover Open Source Software through concrete examples. A publication every two weeks.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://myopensourcejourney.com/">
<meta property="og:title" content="My Open Source journey">
<meta property="og:description" content="Discover Open Source Software through concrete examples. A publication every two weeks.">
<meta property="og:image" content="https://myopensourcejourney.com/img/logo.png">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://myopensourcejourney.com/">
<meta property="twitter:title" content="My Open Source journey">
<meta property="twitter:description" content="Discover Open Source Software through concrete examples. A publication every two weeks.">
<meta property="twitter:image" content="https://myopensourcejourney.com/img/logo.png">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">Octobox - Notifications filter | My Open Source journey</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://myopensourcejourney.com/docs/contributions/octobox2597"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Octobox - Notifications filter | My Open Source journey"><meta data-react-helmet="true" name="description" content="backgroundColor: color,"><meta data-react-helmet="true" property="og:description" content="backgroundColor: color,"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://myopensourcejourney.com/docs/contributions/octobox2597"><link data-react-helmet="true" rel="alternate" href="https://myopensourcejourney.com/docs/contributions/octobox2597" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://myopensourcejourney.com/docs/contributions/octobox2597" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.778ddecf.css">
<link rel="preload" href="/assets/js/runtime~main.170cc273.js" as="script">
<link rel="preload" href="/assets/js/main.aa518b15.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Open Source journey" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.svg" alt="My Open Source journey" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link" href="/docs/presentation">Presentation</a><a class="navbar__item navbar__link" href="/docs/contributions/apple-swift-nio1692">Contributions</a><a class="navbar__item navbar__link" href="/docs/projects/backstage">Projects</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/about">About Me</a><a href="https://github.com/ayshiff" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Contributions</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/apple-swift-nio1692">1. SwiftNIO core - SocketAddress creation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/xlayers395">2. xLayers - Rethink UX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/backstage3794">3. Backstage - Techdocs AWS Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/lifetime28">4. LifeTime - Activity detail</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/backstage4416">5. Backstage - Splunk On-Call Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/contributions/octobox2597">6. Octobox - Notifications filter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/consoleme9008">7. ConsoleMe - AWS IAM policy linting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/changesets80">8. Changesets - Comment on released PRs and issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/caramel91">9. Caramel - Pipe operator support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/firefox-ios8327">10. Firefox for iOS - Bug fixing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/driftctl458">11. driftctl - Support for Terraform Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/backstage5675">12. Backstage - Techdocs End-to-End testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributions/flutter">13. Google - Flutter contributions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Projects</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Octobox - Notifications filter</h1></header><div class="pr_infos"><div class="marginBottom"><div><div><div class="merged"><span><svg height="16" viewBox="0 0 16 16" version="1.1" width="16" fill="white" aria-hidden="true" class="status_svg"><path fill-rule="evenodd" d="M5 3.254V3.25v.005a.75.75 0 110-.005v.004zm.45 1.9a2.25 2.25 0 10-1.95.218v5.256a2.25 2.25 0 101.5 0V7.123A5.735 5.735 0 009.25 9h1.378a2.251 2.251 0 100-1.5H9.25a4.25 4.25 0 01-3.8-2.346zM12.75 9a.75.75 0 100-1.5.75.75 0 000 1.5zm-8.5 4.5a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>Merged</span></div>19 Feb 2021</div></div><span class="badge badge--secondary marginRight">Ruby</span><span class="badge badge--secondary marginRight">github-notifications</span><span class="badge badge--secondary marginRight">triage</span><span class="badge badge--secondary marginRight">inbox</span></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Contribution link</h5></div><div class="admonition-content"><p><a href="https://github.com/octobox/octobox/pull/2597" target="_blank" rel="noopener noreferrer">https://github.com/octobox/octobox/pull/2597</a></p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Contribution Type</h5></div><div class="admonition-content"><p>This contribution is a new <strong>feature</strong>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="introduction">Introduction<a aria-hidden="true" class="hash-link" href="#introduction" title="Direct link to heading">â€‹</a></h2><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/octobox/cover.jpg" alt="Contribution presentation" width="100%"></div></div><em>Octobox + Notifications filter</em></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="project">Project<a aria-hidden="true" class="hash-link" href="#project" title="Direct link to heading">â€‹</a></h3><p>You can find the <a href="/docs/projects/octobox"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">Octobox project presentation here</span></a>.</p><p>To access Octobox.io you just need to sign in with your GitHub profile or install the GitHub app on the <a href="https://octobox.io/" target="_blank" rel="noopener noreferrer"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">homepage</span></a>.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="context">Context<a aria-hidden="true" class="hash-link" href="#context" title="Direct link to heading">â€‹</a></h3><h3 class="anchor anchorWithStickyNavbar_31ik" id="current-behavior">Current behavior<a aria-hidden="true" class="hash-link" href="#current-behavior" title="Direct link to heading">â€‹</a></h3><p>In order to understand the current behavior you need to be familiar with what a GitHub notification is.</p><p>Notifications provide updates about the <strong>activities</strong> and <strong>conversations</strong> you&#x27;re interested in.<br>
<!-- -->In the Octobox context, they can be of three different types: <code>Issue</code>, <code>Pull request</code> or <code>Vulnerability alert</code>.   </p><p>Users can currently <strong>refine</strong> their notifications with <strong>specific filters</strong>.   </p><p>Here is a list of some filters that can be used:</p><ul><li><strong>repo:<code>octobox/octobox</code></strong>	Only search notifications from the <strong>octobox/octobox repository</strong>.</li><li><strong>owner:<code>microsoft</code></strong>	Only search notifications from repositories in the <strong>microsoft organisation</strong>.</li><li><strong>type:<code>pull_request</code></strong>	Only search <strong>pull requests</strong>. Also accepts: issue, release, commit, repository_invitation and repository_vulnerability_alert.</li></ul><p>The goal of this contribution is to add <strong>filtering</strong> based on the <strong>issue number</strong> and/or the <strong>pull-request number</strong> like <em>GitHub</em> does:</p><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/octobox/issue_number.png" alt="Issue number" width="100%"></div></div></div><br><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Issue link</h5></div><div class="admonition-content"><p><a href="https://github.com/octobox/octobox/issues/2144" target="_blank" rel="noopener noreferrer">https://github.com/octobox/octobox/issues/2144</a></p></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="setting-up-the-project">Setting up the project<a aria-hidden="true" class="hash-link" href="#setting-up-the-project" title="Direct link to heading">â€‹</a></h2><p>In order to contribute to the project, we will need to set up certain elements.</p><ol><li><p><strong>Fork</strong> and <strong>clone</strong> the Octobox repository to our local machine.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone git@github.com:</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OUR_GITHUB_USERNAME</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/octobox.git </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Using SSH</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Install <strong>Ruby 2.7.2</strong> using <a href="https://github.com/rbenv/rbenv" target="_blank" rel="noopener noreferrer"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">rbenv</span></a> which is a version manager for Ruby.<br>
<!-- -->It will allow us to install the correct version of Ruby for our project.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">brew </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> rbenv ruby-build</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rbenv </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.7</span><span class="token plain">.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rbenv global </span><span class="token number" style="color:rgb(247, 140, 108)">2.7</span><span class="token plain">.2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Install <strong>PostgreSQL</strong> which will be used to store our notifications.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">brew </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> postgres</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Install the &quot;Gems&quot; dependencies from the <code>Gemfile</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">gem </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> bundler </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> rbenv rehash</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bundle </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Create the <strong>databases</strong> and <strong>tables</strong> with &quot;Rake&quot;(it is a task runner in Ruby).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bundle </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exec</span><span class="token plain"> rake db:create db:migrate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Register a new <a href="https://github.com/settings/applications/new" target="_blank" rel="noopener noreferrer"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">GitHub OAuth Application</span></a>.   </p><p>It will allow us to connect our <strong>GitHub identity</strong> to our local Octobox instance using <strong>OAuth</strong> and to <strong>retrieve our account notifications</strong>.</p><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/octobox/oauth-github.png" alt="GitHub OAuth Application" width="600"></div></div></div><p>Once this step has been completed, we need to write down the <strong>client id</strong> and <strong>client secret</strong> and create an <code>.env</code> file with the following content:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">GITHUB_CLIENT_ID</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OUR_GITHUB_CLIENT_ID</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">GITHUB_CLIENT_SECRET</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OUR_GITHUB_CLIENT_SECRET</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Make sure that PostgreSQL is running and <strong>start</strong> the project with:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rails s</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ol><p>Now that our project is running locally, we can start <strong>implementing the solution</strong>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="implement-the-solution">Implement the solution<a aria-hidden="true" class="hash-link" href="#implement-the-solution" title="Direct link to heading">â€‹</a></h2><p>We will follow the TDD (<strong>T</strong>est <strong>D</strong>riven <strong>D</strong>evelopment) approach by developing test cases to specify and validate what the code will do.<br>
<!-- -->Moreover, it will allow us to do refactoring afterwards by making sure that the functional part is good.</p><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/octobox/TDD.png" alt="TDD presentation" width="600"></div></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="add-the-failing-tests">Add the failing tests<a aria-hidden="true" class="hash-link" href="#add-the-failing-tests" title="Direct link to heading">â€‹</a></h3><p>To filter the notifications based on their reference numbers, we need to validate that our Search engine will correctly converts our params to the right query prefix.   </p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">test/models/search_test.rb</div><div class="codeBlockContent_hGly ruby"><pre tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">class SearchTest &lt; ActiveSupport::TestCase</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # ...other tests</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  test &#x27;converts number params to number prefix without changing it&#x27; do</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    search = Search.new(query: &#x27;inbox:true&#x27;, scope: Notification.all, params: {number: &#x27;123&#x27;})</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    assert_equal search.to_query, &#x27;inbox:true number:123&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The following tests will allow us to test that the notifications are properly filtered based on the number(s) we specified in the search input.   </p><p>For example, given the following search input, the following URL will be used.   </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/?q=inbox%3Atrue+type%3Aissue+number%3A4555</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>NOTE:</strong> When building a URL, we must ensure that it contains <strong>only valid characters</strong>.<br>
<!-- -->All characters to be URL-encoded are encoded using the <code>%</code> character and two hexadecimal digits corresponding to their UTF-8 character.   </p><p>This means that <code>3A</code> corresponds to the character <code>:</code> and <code>+</code> to a space (the real encoding uses <code>%20</code> but form data in URLs uses <code>+</code>).</p><div class="image-wrapper"><img alt="Search bar" width="600" src="/img/octobox/search-bar.png"><br><em>Search bar component</em></div><br><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">test/controllers/notifications_controller_test.rb</div><div class="codeBlockContent_hGly ruby"><pre tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">require &#x27;test_helper&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">class NotificationsControllerTest &lt; ActionDispatch::IntegrationTest</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # ...other tests </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  test &#x27;search results can filter by number&#x27; do</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sign_in_as(@user)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    notification1 = create(:notification, user: @user, subject_type: &#x27;Issue&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    notification2 = create(:notification, user: @user, subject_type: &#x27;PullRequest&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    subject1 = create(:subject, notifications: [notification1])</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    subject2 = create(:subject, notifications: [notification2])</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    get &#x27;/?q=number%3A&#x27; + subject1.url.scan(/\d+$/).first</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    assert_equal assigns(:notifications).length, 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    assert_equal assigns(:notifications).first.subject_url, subject1.url</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  test &#x27;search results can filter by multiple numbers&#x27; do</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sign_in_as(@user)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    notification1 = create(:notification, user: @user, subject_type: &#x27;Issue&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    notification2 = create(:notification, user: @user, subject_type: &#x27;PullRequest&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    subject1 = create(:subject, notifications: [notification1])</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    subject2 = create(:subject, notifications: [notification2])</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    get &#x27;/?q=number%3A&#x27; + subject1.url.scan(/\d+$/).first + &#x27;%2C&#x27; + subject2.url.scan(/\d+$/).first</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    assert_equal assigns(:notifications).length, 2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="make-our-tests-pass">Make our tests pass<a aria-hidden="true" class="hash-link" href="#make-our-tests-pass" title="Direct link to heading">â€‹</a></h3><p>In order to make our tests pass, we will need to implement different things:</p><ul><li>Add a new param <code>number</code> for the search model which will be used to query the right filters.</li><li>Add a new <code>number</code> scope which will be used to select the notifications from our table with a number which <strong>matches</strong> to our.</li><li>Add a new <code>-number</code> scope which will be used to select the notifications from our table with a number which is <strong>different</strong> to our.</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="add-the-new-search-params">Add the new search params<a aria-hidden="true" class="hash-link" href="#add-the-new-search-params" title="Direct link to heading">â€‹</a></h3><p>This step involves adding our two new params <code>number</code> and <code>-number</code>.<br>
<!-- -->It will allow us to pass the right information to the scopes who will take care of the logic to retrieve the corresponding notifications in our database.   </p><p><code>exclude_number</code> works as a negative filter and will therefore filter in the opposite way to <code>number</code>: <code>-number</code>.</p><p>We will update our <code>Search</code> <strong>model</strong> to add our new params.</p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">app/models/search.rb</div><div class="codeBlockContent_hGly ruby"><pre tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">class Search</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  attr_accessor :parsed_query</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  attr_accessor :scope</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  def initialize(query: &#x27;&#x27;, scope:, params: {})</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @parsed_query = SearchParser.new(query)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @scope = scope</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    convert(params)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  def results</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    res = scope</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # This is used to get our parsed_query :number</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    res = res.number(number) if number.present?</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    res = res.exclude_number(exclude_number) if exclude_number.present?</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # ... other params</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">  def number</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    parsed_query[:number]</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">  def exclude_number</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    parsed_query[:&#x27;-number&#x27;]</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  def convert(params)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # ... other params</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    [:repo, :owner, :author, :number].each do |filter|</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">      next if params[filter].blank?</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">      @parsed_query[filter] = Array(params[filter])</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We will also need to add our new filter to the filter list inside the notifications helper.   </p><p>In particular, it will be useful for displaying the filter in the list of selected filters thanks to the <code>filter_option</code> helper. (see the <a href="/docs/contributions/octobox2597#add-the-search-filter-element"><span style="background-color:#203666;border-radius:2px;color:#fff;padding:0.2rem;font-weight:600">search filter element</span></a> section)</p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">app/helpers/notifications_helper.rb</div><div class="codeBlockContent_hGly ruby"><pre tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">module NotificationsHelper</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  def filters</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      reason:          params[:reason],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      unread:          params[:unread],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      repo:            params[:repo],</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">      number:          params[:number],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      # ... other filters</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  def filter_option(param)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if filters[param].present?</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      link_to root_path(filters.except(param)), class: &quot;btn btn-sm btn-outline-dark&quot; do</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        concat octicon(&#x27;x&#x27;, :height =&gt; 16)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        concat &#x27; &#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        concat yield</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # ... other helpers</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="add-the-scopes">Add the scopes<a aria-hidden="true" class="hash-link" href="#add-the-scopes" title="Direct link to heading">â€‹</a></h3><p>Now that we have the filters requested by the user, all we have to do is retrieve the corresponding elements.</p><p>There is one property of the <code>notification</code> element that we will use: <code>subject_url</code>.</p><p>The <code>subject_url</code> property is in the following format:</p><p><code>https://github.com/octobox/octobox/issues</code> <strong><code>/2520</code></strong> (with the reference number at the end of the url).</p><p>Note that if the <code>number</code> filter is combined with the <code>type</code> filter, it will only search notifications of this type.</p><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/octobox/filtering-schema.png" alt="Filtering schema" width="100%"></div></div><em>Notifications filtering</em></div><br><p>In the <strong>inclusive case</strong> we need to retrieve the notifications that <strong>have</strong> a reference number that corresponds to the one we provide.</p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">lib/octobox/notifications/inclusive_scope.rb</div><div class="codeBlockContent_hGly ruby"><pre tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">scope :number, -&gt;(subject_numbers)  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  joins(:subject).where(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    subject_numbers.map { |subject_number| </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      arel_table[:subject_url].matches(&quot;%/#{subject_number}&quot;) </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }.reduce(:or)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the <strong>exclusive case</strong> we need to retrieve the notifications that <strong>have not</strong> a reference number that corresponds to the one we provide.</p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">lib/octobox/notifications/exclusive_scope.rb</div><div class="codeBlockContent_hGly ruby"><pre tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">scope :exclude_number, -&gt;(subject_numbers)  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  joins(:subject).where.not(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    subject_numbers.map { |subject_number| </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      arel_table[:subject_url].matches(&quot;%/#{subject_number}&quot;) </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }.reduce(:or)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="add-the-helpers">Add the helpers<a aria-hidden="true" class="hash-link" href="#add-the-helpers" title="Direct link to heading">â€‹</a></h3><p>Now that we have developed our new filtering system, all we have to do is add various helpers that will allow the user to use our filters correctly.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="add-the-search-filter-element">Add the search filter element<a aria-hidden="true" class="hash-link" href="#add-the-search-filter-element" title="Direct link to heading">â€‹</a></h4><p>In order to help the user visualize the filters that are currently selected, we will add a new element to the <code>_filter-list</code> view.</p><div class="image-wrapper"><img alt="Search filter element" width="600" src="/img/octobox/search-filter-list.png"><br><em>Search filter component</em></div><br><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">app/views/notifications/_filter-list.html.erb</div><div class="codeBlockContent_hGly auto"><pre tabindex="0" class="prism-code language-auto codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;%= filter_option :number do %&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Number: &lt;%= params[:number] %&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;% end %&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="add-the-filters-list-helper">Add the filters list helper<a aria-hidden="true" class="hash-link" href="#add-the-filters-list-helper" title="Direct link to heading">â€‹</a></h4><p>To help the user use the correct filters, a modal-component is available.<br>
<!-- -->It display some information to the user about the different filters he can use.</p><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/octobox/filter-list-doc.png" alt="Filter list helper" width="600"></div></div><em>Filter list helper</em></div><br><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">app/views/shared/_search_prefixes.html.erb</div><div class="codeBlockContent_hGly html"><pre tabindex="0" class="prism-code language-html codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">tr</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">code</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">number:123</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">code</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Filter by notifications from issues and/or pull requests with the number &#x27;123&#x27;.</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">tr</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="final-result">Final result<a aria-hidden="true" class="hash-link" href="#final-result" title="Direct link to heading">â€‹</a></h2><p>Here is the final result with a sample workflow:</p><ul><li>Filtering by <strong>only one</strong> reference number</li><li>Filtering by <strong>multiple</strong> reference numbers</li><li>Filtering with a <strong>negated</strong> reference number</li></ul><div class="image-wrapper"><div><div class="image-zoom"><img src="/img/octobox/final_result.gif" alt="Final result" width="100%"></div></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="takeaway">Takeaway<a aria-hidden="true" class="hash-link" href="#takeaway" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="problems-encountered">Problems encountered<a aria-hidden="true" class="hash-link" href="#problems-encountered" title="Direct link to heading">â€‹</a></h3><p>I did not have any major problems with this contribution.   </p><p>The local setup of the project was a bit long (configuration of the GitHub OAuth Application, setting up postgres/redis...) especially for the configuration of the ruby version where I had incompatibilities between the <code>rbenv</code> version and my local ruby version using <code>rvm</code>.  </p><p>But it gave me a better idea of how the project worked.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="what-did-i-learn-">What did I learn ?<a aria-hidden="true" class="hash-link" href="#what-did-i-learn-" title="Direct link to heading">â€‹</a></h3><p>This contribution allowed me to learn more about <strong>Ruby On-Rails</strong> and its usage in a concrete project.<br>
<!-- -->Ruby is not a language I usually use, it allowed me to use a different language from the ones I usually use.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ayshiff/my-open-source-journey/docs/contributions/octobox#2597.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/contributions/backstage4416"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->5. Backstage - Splunk On-Call Plugin</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/contributions/consoleme9008"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">7. ConsoleMe - AWS IAM policy linting<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a><ul><li><a href="#project" class="table-of-contents__link toc-highlight">Project</a></li><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#current-behavior" class="table-of-contents__link toc-highlight">Current behavior</a></li></ul></li><li><a href="#setting-up-the-project" class="table-of-contents__link toc-highlight">Setting up the project</a></li><li><a href="#implement-the-solution" class="table-of-contents__link toc-highlight">Implement the solution</a><ul><li><a href="#add-the-failing-tests" class="table-of-contents__link toc-highlight">Add the failing tests</a></li><li><a href="#make-our-tests-pass" class="table-of-contents__link toc-highlight">Make our tests pass</a></li><li><a href="#add-the-new-search-params" class="table-of-contents__link toc-highlight">Add the new search params</a></li><li><a href="#add-the-scopes" class="table-of-contents__link toc-highlight">Add the scopes</a></li><li><a href="#add-the-helpers" class="table-of-contents__link toc-highlight">Add the helpers</a></li></ul></li><li><a href="#final-result" class="table-of-contents__link toc-highlight">Final result</a></li><li><a href="#takeaway" class="table-of-contents__link toc-highlight">Takeaway</a><ul><li><a href="#problems-encountered" class="table-of-contents__link toc-highlight">Problems encountered</a></li><li><a href="#what-did-i-learn-" class="table-of-contents__link toc-highlight">What did I learn ?</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Content</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/presentation">Concept presentation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contributions/apple-swift-nio1692">Contributions</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/projects/backstage">Projects</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/users/8914348/r%c3%a9mi-doreau?tab=profile" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/r%C3%A9mi-doreau-b53902153/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/remi_doreau" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/about">About me</a></li><li class="footer__item"><a href="https://github.com/ayshiff" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://remidoreau.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div style="margin-top: 40px"><img src="https://myopensourcejourney.com/img/logo.svg" width="200"><p>Build with ðŸ’™ by <b>RÃ©mi Doreau</b></p></div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.170cc273.js"></script>
<script src="/assets/js/main.aa518b15.js"></script>
</body>
</html>